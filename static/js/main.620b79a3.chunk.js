(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,n){e.exports=n(68)},68:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(23),o=n.n(c),i=n(24),l=n(25),u=n(32),s=n(26),m=n(33),p=n(27),h=n(12),f=n.n(h),d=n(28),b=n(9),E=n(8),v=n(7),g=n(29),j=n.n(g),O={accounts:[],totals:{nbr:0,cash:0,invested:0,total:0}},w="https://5q3g7nxt47.execute-api.us-east-2.amazonaws.com/Prod/api";function T(e){var t=e.accounts;return r.a.createElement("ul",null,t.map(function(e){return r.a.createElement("li",{key:e.accID},e.p2p," : ",e.bal.cash.toFixed(2)," - ",(e.bal.total+(e.bal.acrincluded?0:e.loanbal.int)).toFixed(2))}))}var k=function(e,t){var n=Object(a.useState)(t),r=Object(b.a)(n,2),c=r[0],o=r[1],i=Object(a.useState)(!1),l=Object(b.a)(i,2),u=l[0],s=l[1],m=Object(a.useState)(!1),p=Object(b.a)(m,2),h=p[0],E=p[1],v=function(){var e=Object(d.a)(f.a.mark(function e(t){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return E(!1),s(!0),e.prev=2,e.next=5,j.a.get(t,{headers:{Authorization:"Bearer "+x.JWT,"x-api-key":"XQdMDLtost94GvFow0AqT416sHTMisj17Xak7JgI"}});case 5:n=e.sent,o(n.data),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),o(O),E(!0);case 13:s(!1);case 14:case"end":return e.stop()}},e,null,[[2,9]])}));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)(function(){v(e,x.JWT)},[e]),{data:c,isLoading:u,isError:h,fetchData:v}};var x={isAuthenticated:!1,JWT:"",authenticate:function(e,t){this.isAuthenticated=!0,this.JWT=e,setTimeout(t,100)},signout:function(e){this.isAuthenticated=!1,this.JWT="",setTimeout(e,100)}},y=Object(v.e)(function(e){var t=e.history;return x.isAuthenticated?r.a.createElement("p",null,"Welcome!"," ",r.a.createElement("button",{onClick:function(){x.signout(function(){return t.push("/")})}},"Sign out")):r.a.createElement("p",null,"You are not logged in.")});function A(e){var t=e.component,n=Object(p.a)(e,["component"]);return r.a.createElement(v.b,Object.assign({},n,{render:function(e){return x.isAuthenticated?r.a.createElement(t,e):r.a.createElement(v.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}function J(){return r.a.createElement("h3",null,"Public")}function P(){var e=k(w+"/p2ps",O),t=e.data,n=e.isLoading,a=e.isError,c=e.fetchData;return r.a.createElement("div",null,r.a.createElement("h3",null,"Protected"),r.a.createElement("button",{onClick:function(e){c(w+"/p2ps?refreshAccounts=true&refreshLoans=true"),e.preventDefault()}},"Refresh Data"),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Get P2P balances"),a&&r.a.createElement("div",null,"Something went wrong ..."),n?r.a.createElement("div",null,"Loading ..."):r.a.createElement(T,{accounts:t.accounts}))}var W=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={redirectToReferrer:!1},n.JWT="",n.login=function(e){x.authenticate(e,function(){n.setState({redirectToReferrer:!0})})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.location.hash.match(/id_token=([^&]*)&/)[1],t=(this.props.location.state||{from:{pathname:"/"}}).from;return this.state.redirectToReferrer?r.a.createElement(v.a,{to:t}):r.a.createElement("div",null,r.a.createElement("p",null,"You must log in to view the page at ",t.pathname),r.a.createElement("button",{onClick:this.login(e)},"Log in"))}}]),t}(a.Component),D=function(){return r.a.createElement(E.a,null,r.a.createElement("div",null,r.a.createElement(y,null),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(E.b,{to:"/public"},"Public Page")),r.a.createElement("li",null,r.a.createElement(E.b,{to:"/protected"},"Protected Page"))),r.a.createElement(v.b,{path:"/public",component:J}),r.a.createElement(v.b,{path:"/login",component:W}),r.a.createElement(A,{path:"/protected",component:P})))};o.a.render(r.a.createElement(D,null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.620b79a3.chunk.js.map